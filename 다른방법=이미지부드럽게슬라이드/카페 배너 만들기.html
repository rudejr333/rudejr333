<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>카페 배너</title>

<style>
*{margin:0;padding:0; box-sizing:border-box;}

#ro{position:relative; width:500px; height:135px; margin:auto; display:flex; }

#ro>b{height:100%; display:flex; align-items:center; cursor:pointer;font:bold 30px arial;background:gold; }

#ro>div{position:relative; z-index:-1;width:calc(160px * 3); height:100%; display:flex;border-bottom:5px solid red;}
#ro img{width:160px; position:absolute;}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
	$(document).ready(function(){
	
		/*이미지의 외쪽위치*/
		$("#ro img").each(function(x){
			$("#ro img").eq(x).css("left", String((x-1)*160)+"px");
		});
		/*자동롤링*/
			var autoRolling = setInterval(leftMove, 2000);

			function leftMove(){
			$("#ro img").animate({left:"-=160px"});
			i++;
			if(i==5) {i=1;}
			var appendImg = '<img src="카페 배너 만들기/roll_img_'+i+'.jpg" alt="배너'+i+'">'
			$("#ro>div").append(appendImg);
			$("#ro>div").children().last().css("left", String(3*160)+"px");
				if($("#ro img").first().position().left<=0){
					$("#ro img").first().remove();
				}
			}
		/*이미지이름 끝에 붙은 숫자 가져오기*/
		var i =$("#ro img").eq(0).attr("src").substr(-5,1);
		
		
		/*왼쪽화살표 클릭*/
		$("#left").click(function(){
			clearInterval(autoRolling);
			$("#ro img").animate({left:"-=160px"});
			i++;
			if(i==5) {i=1;}
			var appendImg = '<img src="카페 배너 만들기/roll_img_'+i+'.jpg" alt="배너'+i+'">'
			$("#ro>div").append(appendImg);
			$("#ro>div").children().last().css("left", String(3*160)+"px");
				if($("#ro img").first().position().left<=0){
					$("#ro img").first().remove();
				}
				autoRolling = setInterval(leftMove, 2000);
		});
		
		/*오른쪽화살표 클릭*/
		$("#right").click(function(){
			clearInterval(autoRolling);
			$("#ro img").animate({left:"+=160px"});
			i--;
			if(i==0) {i=4;}
			var appendImg = '<img src="카페 배너 만들기/roll_img_'+i+'.jpg" alt="배너'+i+'">'
			$("#ro>div").prepend(appendImg);
			$("#ro>div").children().first().css("left", String(-1*160)+"px");
				if($("#ro img").last().position().left>=320){
					$("#ro img").last().remove();
				}
				autoRolling = setInterval(leftMove, 2000);
			});
			
			
		
		});
	

</script>
</head>
<body>
	<div id="ro">
		<b id="left">&lt;</b>
		<div>
			<img src="카페 배너 만들기/roll_img_1.jpg" alt="배너1">
			<img src="카페 배너 만들기/roll_img_2.jpg" alt="배너2">
			<img src="카페 배너 만들기/roll_img_3.jpg" alt="배너3">
			<img src="카페 배너 만들기/roll_img_4.jpg" alt="배너4">
			<img src="카페 배너 만들기/roll_img_1.jpg" alt="배너1">
		</div>
		<b id="right">&gt;</b>
	</div>
	
	
	
	
	</div>
</body>
</html>